# WinterAssessment
#  2021年红岩网校寒假考核说明文档

##  板块说明

整个APP由7个控制器和一个网络工具类包组成

### 初始页面

​	我在SceneDelegate中，将整个项目的window设置为了一个UINavigationController，这样便于我做出在不同的控制器之前的切换。而初始页面的控制器UITableViewController就是UINavigationController的根控制器。

​	整个控制器的界面有两大部分，一个是在整个内容视图顶部的图片滚动器，和可以向下滑动的tableView，并可以实时获取数据。

### 登录界面

这个界面和其他界面有不同的，我是将它和一个xib文件绑定在了一起，与纯代码不同的是，这样可以在xib文件里清晰地看出整个登录界面的结构。

### 详情页

详情页则是由一个viewController来控制，底部栏显示数据和实现退出当前新闻的功能。新闻的正文内容则是由textview对HTML数据进行翻译来显示，翻译之后图片和文字等的具体设置并没有达到最好。我也尝试使用过WKWebView，但是由URL展示的新闻页始终都会有一个顶部提示，无法处理。

### 个人页

可以在登陆之后显示用户的名字头像等数据，可以跳转到三个界面：我的消息，我的收藏和设置。

### 我的收藏和我的消息

这两个页面可以看到用户收藏的新闻和收到的消息。

###  设置

和APP界面相同，但是只实现了 退出登陆 的功能。

### 网络工具包

一个继承自第三方库AFNetworkong的类，可以得到用于网络请求的对象实现GET、POST等请求。

## 我的心路历程

​	最开始得到得到这个作业时甚至有点骄傲，但是在逐渐深入敲击这个项目的时候会觉得自己很拉，但是在基本完成这个项目的时候也有一定的感触了。

​	我的学习是根据小码哥的视频为基础的（ps：视频有点过时）。

### 在学习过程中遇到的问题

​	通知中心：最开始接触到它是在两个不同类中用于交换数据信息和实现控制其他控制器，在开发过程中，随着控制器增多，我便将NSNotificationCenter大量用于我的代码中，最终导致的结果就是控制器之间的关系越来越混乱，交互越来越繁杂，只适合轻度使用于代码中。

​	网络请求：在整个寒假中，后半段才接触到网络请求。最开始在小码哥的视频中学习，只学到了一个已经被弃用的方法，但是也第一次从网络上得到返回数据，所以在整个学习网络请求的过程中非常低迷，最后发现一个关系AFNetworking的学习视频，并以此写了一个用于整个项目的网络申请工具。

​	关于第三方库Masonry：我在写图片轮播器上的用于展示数据和图片的ImageView子类，标题和来源事件用Masonry进行限制，最后却崩溃了。找了接近3个小时的bug，最后发现标题的控件没有实例化。原因：我在添加子控件的时候用weak修饰，在实例化时需要用一个强指针来创建对象。

```objective-c
UILabel *hint = [[UILabel alloc] init];
[hint setFont:[UIFont systemFontOfSize:16 weight:UIFontWeightThin]];
hint.textColor = [UIColor whiteColor];
self.hint = hint;//写成了 self.title = hint;
[self addSubview:hint];

```

所以在每次初始化时直接崩溃。	


